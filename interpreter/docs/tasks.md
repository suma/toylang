# 改善タスクチェックリスト

## アーキテクチャの改善

1. [x] コードの構造をモジュール化する
   - [x] main.rsを複数のモジュールに分割する（environment.rs, object.rs, evaluation.rs, error.rs など）
   - [x] lib.rsを実装して、インタープリターをライブラリとして使用できるようにする
   - [ ] 公開APIを明確に定義する

2. [ ] エラー処理の改善
   - [ ] panicの代わりにResult型を使用してエラーを伝播する
   - [ ] エラーメッセージに行番号と列番号を含める
   - [ ] エラー回復メカニズムの実装

3. [ ] テスト戦略の改善
   - [ ] ユニットテストの拡充
   - [ ] 統合テストの追加
   - [ ] プロパティベースのテストの導入
   - [ ] ベンチマークの追加

4. [ ] ドキュメンテーションの強化
   - [ ] コードにドキュメントコメントを追加
   - [ ] 言語仕様書の作成
   - [ ] チュートリアルの作成
   - [ ] APIドキュメントの生成

## コードレベルの改善

1. [ ] 既知のFIXMEの修正
   - [ ] `with_new_scope`メソッドのバグを修正
   - [ ] 環境ブロックの作成に`with_new_scope`を使用するように変更

2. [ ] 未実装機能の実装
   - [ ] while文の実装
   - [ ] 関数呼び出し時の引数型チェックの実装

3. [ ] パフォーマンスの最適化
   - [ ] 再帰呼び出しの最適化（末尾再帰の最適化など）
   - [ ] メモリ使用量の削減
   - [ ] 不要なクローンの削減

4. [ ] コードの品質向上
   - [ ] 冗長なコードの削除
   - [ ] 命名規則の統一
   - [ ] コメントの追加と改善
   - [ ] 型安全性の向上

5. [ ] 言語機能の拡張
6. - [ ] i64型のサポート
   - [ ] 配列のサポート
   - [ ] 構造体のサポート
   - [ ] 文字列操作関数の追加
   - [ ] 標準ライブラリの実装

## ツールとインフラの改善

1. [ ] ビルドプロセスの改善
   - [ ] CI/CDパイプラインの設定
   - [ ] コードカバレッジの測定
   - [ ] 静的解析ツールの導入

2. [ ] 開発環境の改善
   - [ ] エディタ設定の標準化
   - [ ] デバッグツールの改善
   - [ ] プロファイリングツールの導入

3. [ ] ユーザーエクスペリエンスの向上
   - [ ] コマンドラインインターフェースの改善
   - [ ] エラーメッセージの改善
   - [ ] インタラクティブモードの追加
   - [ ] REPL（Read-Eval-Print Loop）の実装

## セキュリティの改善

1. [ ] セキュリティ監査の実施
   - [ ] 入力検証の強化
   - [ ] リソース使用量の制限
   - [ ] サンドボックス化の実装

2. [ ] 依存関係の管理
   - [ ] 依存ライブラリの最新化
   - [ ] 脆弱性スキャンの導入