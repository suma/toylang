# TODO - Interpreter Improvements

## 完了済み ✅

1. **エラーメッセージの一貫性を修正** - 各演算関数で正しい関数名を使用
2. **Enumベースのアプローチで算術演算のコード重複を解消**
3. **object.rsのパニック呼び出しをResult型に変更してエラーハンドリングを改善**
4. **unwrap_*メソッドをパニック版とtry_unwrap_*版に分離してAPIを改善**
5. **for文のUInt64とInt64処理の重複をジェネリクスで統一してパフォーマンスを改善**
6. **while文の未実装部分を完成して言語機能を完全にする**
7. **比較演算のコード重複をEnumベースアプローチで解消して保守性を向上**

## 進行中 🚧

現在進行中のタスクはありません。

## 未実装 📋

### 中優先度

8. **エラーハンドリングの明確化** 🔍
   - `evaluation.rs:467`付近のnullチェックが複雑で、より明確な方法に改善できます

### 低優先度

9. **論理演算の最適化** ⚡
   - `evaluate_logical_and`と`evaluate_logical_or`で短絡評価（short-circuit evaluation）が実装されていません
   - 現在は両方のオペランドを評価していますが、効率性のため短絡評価を実装

10. **未使用importの削除** 🧹
    - 警告に表示されている`RcObject`と`convert_object`の未使用importを削除

11. **型チェックの改善** 🛡️
    - 現在の型チェックはランタイムで行われていますが、より早期に検出できる仕組みを追加

12. **テストカバレッジの向上** 🧪
    - エラーケースや境界値のテストが不足している可能性があります

13. **パフォーマンス測定** 📊
    - benchmarkを追加してパフォーマンスを定量的に測定できるようにする

14. **ドキュメント整備** 📚
    - 言語仕様やAPIドキュメントの整備

## 推奨順序

次に取り組むべき課題：
1. **10番（未使用import削除）** - 簡単でクリーンアップ効果が高い
2. **8番（エラーハンドリング明確化）** - コード可読性向上
3. **9番（論理演算の最適化）** - パフォーマンス向上

## メモ

- 算術演算と比較演算は既にEnum化により統一済み
- 基本的な言語機能（if/else、for、while）は完全実装済み
- 全23テストが通過している状態を維持